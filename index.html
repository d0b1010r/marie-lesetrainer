<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Einhorn-Lesespiel ğŸ¦„</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@400;700;900&display=swap');

    :root {
      --lila:  #b06fd8;
      --pink:  #f472b6;
      --blau:  #60a5fa;
      --gelb:  #fde047;
      --hell:  #fdf4ff;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      min-height: 100vh;
      background: linear-gradient(135deg, #e9d5ff 0%, #fce7f3 40%, #bfdbfe 70%, #fef9c3 100%);
      font-family: 'Nunito', sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      padding: 20px;
      overflow-x: hidden;
    }

    /* â”€â”€â”€ HEADER â”€â”€â”€ */
    header {
      text-align: center;
      margin-bottom: 24px;
    }
    h1 {
      font-family: 'Fredoka One', cursive;
      font-size: clamp(2rem, 6vw, 3.5rem);
      background: linear-gradient(90deg, var(--lila), var(--pink), var(--blau), var(--gelb));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      filter: drop-shadow(0 2px 4px rgba(0,0,0,0.15));
      animation: regenbogen 3s linear infinite;
      background-size: 300%;
    }
    @keyframes regenbogen {
      0%   { background-position: 0% 50%; }
      50%  { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    .stars-row { font-size: 1.6rem; letter-spacing: 6px; margin-top: 4px; }

    /* â”€â”€â”€ PROGRESS â”€â”€â”€ */
    .progress-bar-wrap {
      width: 100%;
      max-width: 680px;
      background: rgba(255,255,255,0.5);
      border-radius: 20px;
      height: 18px;
      margin-bottom: 20px;
      overflow: hidden;
      border: 2px solid white;
    }
    .progress-bar {
      height: 100%;
      background: linear-gradient(90deg, var(--lila), var(--pink));
      border-radius: 20px;
      transition: width 0.6s ease;
    }

    /* â”€â”€â”€ CARD â”€â”€â”€ */
    .card {
      background: rgba(255, 255, 255, 0.85);
      border-radius: 28px;
      padding: 32px 36px;
      max-width: 680px;
      width: 100%;
      box-shadow: 0 8px 32px rgba(176,111,216,0.25);
      border: 3px solid white;
      position: relative;
    }

    /* â”€â”€â”€ SENTENCE DISPLAY â”€â”€â”€ */
    .sentence-box {
      background: linear-gradient(135deg, #f3e8ff, #fce7f3);
      border-radius: 20px;
      padding: 24px;
      min-height: 120px;
      display: flex;
      align-items: center;
      justify-content: center;
      border: 3px dashed var(--lila);
      margin-bottom: 24px;
    }
    .sentence-text {
      font-size: clamp(1.4rem, 4vw, 2.2rem);
      font-weight: 900;
      color: #5b21b6;
      text-align: center;
      line-height: 1.5;
      letter-spacing: 1px;
    }
    /* highlight the letter B */
    .sentence-text .b-letter {
      color: var(--pink);
      font-size: 1.2em;
      text-shadow: 0 2px 8px rgba(244,114,182,0.5);
    }
    /* highlight the WHOLE target word */
    .sentence-text .target-word {
      background: linear-gradient(135deg, #fde047cc, #f472b6aa);
      border-radius: 10px;
      padding: 2px 8px;
      display: inline-block;
      box-shadow: 0 2px 10px rgba(244,114,182,0.45);
      animation: wordPulse 1s ease-in-out infinite alternate;
      border: 2px solid rgba(244,114,182,0.5);
    }
    @keyframes wordPulse {
      from { transform: scale(1);    box-shadow: 0 2px 10px rgba(244,114,182,0.4); }
      to   { transform: scale(1.06); box-shadow: 0 4px 18px rgba(244,114,182,0.7); }
    }

    /* â”€â”€â”€ TYPE INPUT â”€â”€â”€ */
    .type-area {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 16px;
    }
    .type-label {
      font-size: 1.1rem;
      color: #7c3aed;
      font-weight: 700;
      text-align: center;
    }
    .type-input-wrap {
      position: relative;
      width: 100%;
    }
    .type-input {
      width: 100%;
      border: 4px solid var(--lila);
      border-radius: 18px;
      padding: 16px 22px;
      font-size: clamp(1.2rem, 3.5vw, 1.8rem);
      font-family: 'Nunito', sans-serif;
      font-weight: 700;
      color: #4c1d95;
      background: #fdf4ff;
      outline: none;
      transition: border-color 0.2s, box-shadow 0.2s;
      text-align: center;
    }
    .type-input:focus {
      border-color: var(--pink);
      box-shadow: 0 0 0 4px rgba(244,114,182,0.25);
    }
    .type-input.correct {
      border-color: #22c55e;
      background: #f0fdf4;
    }
    .type-input.wrong {
      border-color: #ef4444;
      background: #fef2f2;
      animation: shake 0.4s;
    }
    @keyframes shake {
      0%,100% { transform: translateX(0); }
      20%      { transform: translateX(-8px); }
      40%      { transform: translateX(8px); }
      60%      { transform: translateX(-6px); }
      80%      { transform: translateX(6px); }
    }

    /* â”€â”€â”€ BTN â”€â”€â”€ */
    .btn-next {
      background: linear-gradient(135deg, var(--lila), var(--pink));
      color: white;
      border: none;
      border-radius: 18px;
      padding: 14px 36px;
      font-size: 1.3rem;
      font-family: 'Fredoka One', cursive;
      cursor: pointer;
      box-shadow: 0 4px 16px rgba(176,111,216,0.4);
      transition: transform 0.15s, box-shadow 0.15s;
      display: none;
    }
    .btn-next:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 20px rgba(176,111,216,0.55);
    }
    .btn-next.visible { display: block; }

    /* â”€â”€â”€ HINT â”€â”€â”€ */
    .hint {
      font-size: 1rem;
      color: #9333ea;
      text-align: center;
      min-height: 28px;
    }

    /* â”€â”€â”€ PARTICLE / ANIMATION LAYER â”€â”€â”€ */
    #anim-layer {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 999;
      overflow: hidden;
    }
    .particle {
      position: absolute;
      font-size: 2rem;
      animation: flyUp 1.6s ease-out forwards;
      user-select: none;
    }
    @keyframes flyUp {
      0%   { transform: translateY(0) scale(1) rotate(0deg); opacity: 1; }
      100% { transform: translateY(-220px) scale(1.6) rotate(30deg); opacity: 0; }
    }

    /* special animation overlays */
    .overlay-anim {
      position: fixed;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      pointer-events: none;
      animation: fadeOverlay 2.2s ease-in-out forwards;
    }
    @keyframes fadeOverlay {
      0%   { opacity: 0; }
      20%  { opacity: 1; }
      80%  { opacity: 1; }
      100% { opacity: 0; }
    }
    .overlay-emoji {
      font-size: clamp(5rem, 20vw, 12rem);
      animation: bounceIn 0.5s cubic-bezier(0.34,1.56,0.64,1) forwards,
                 spinOut 2.2s ease-in-out forwards;
      filter: drop-shadow(0 0 30px rgba(244,114,182,0.8));
    }
    @keyframes bounceIn {
      from { transform: scale(0) rotate(-20deg); }
      to   { transform: scale(1) rotate(0deg); }
    }
    @keyframes spinOut {
      80%  { transform: scale(1) rotate(0deg); opacity: 1; }
      100% { transform: scale(0) rotate(20deg); opacity: 0; }
    }

    /* confetti */
    .confetti-piece {
      position: absolute;
      width: 12px;
      height: 12px;
      border-radius: 3px;
      animation: confettiFall linear forwards;
    }
    @keyframes confettiFall {
      0%   { transform: translateY(-20px) rotate(0deg); opacity: 1; }
      100% { transform: translateY(110vh) rotate(720deg); opacity: 0; }
    }

    /* star burst */
    .star-burst {
      position: absolute;
      font-size: 2.5rem;
      animation: starBurst 1s cubic-bezier(0.34,1.56,0.64,1) forwards;
    }
    @keyframes starBurst {
      0%   { transform: scale(0) translate(0,0); opacity: 1; }
      100% { transform: scale(1.4) translate(var(--dx), var(--dy)); opacity: 0; }
    }

    /* rainbow wave */
    .rainbow-wave {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%,-50%);
      width: 0;
      height: 0;
      border-radius: 50%;
      animation: wave 1.6s ease-out forwards;
      z-index: 998;
      pointer-events: none;
    }
    @keyframes wave {
      0%   { width: 0; height: 0; opacity: 0.8; background: radial-gradient(circle, var(--pink), var(--lila), var(--blau), var(--gelb)); }
      100% { width: 200vmax; height: 200vmax; opacity: 0; background: radial-gradient(circle, var(--pink), var(--lila), var(--blau), var(--gelb)); }
    }

    /* â”€â”€â”€ FINISH SCREEN â”€â”€â”€ */
    .finish-screen {
      display: none;
      text-align: center;
    }
    .finish-screen.show { display: block; }
    .finish-title {
      font-family: 'Fredoka One', cursive;
      font-size: clamp(2rem, 7vw, 3.8rem);
      background: linear-gradient(90deg, var(--lila), var(--pink), var(--blau), var(--gelb));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      background-size: 300%;
      animation: regenbogen 2s linear infinite;
      margin-bottom: 16px;
    }
    /* giant unicorn at the end */
    .finish-unicorn-big {
      font-size: clamp(7rem, 28vw, 18rem);
      display: block;
      animation: unicornEntrance 0.8s cubic-bezier(0.34,1.56,0.64,1) forwards,
                 unicornBounce 1.4s 0.8s ease-in-out infinite alternate;
      filter: drop-shadow(0 0 40px rgba(176,111,216,0.7));
      line-height: 1;
      margin-bottom: 10px;
    }
    @keyframes unicornEntrance {
      from { transform: scale(0) rotate(-30deg); opacity: 0; }
      to   { transform: scale(1) rotate(0deg);   opacity: 1; }
    }
    @keyframes unicornBounce {
      from { transform: translateY(0)    scale(1);    }
      to   { transform: translateY(-20px) scale(1.05); }
    }
    .finish-text {
      font-size: 1.3rem;
      color: #7c3aed;
      font-weight: 700;
      margin: 16px 0;
    }
    .btn-restart {
      background: linear-gradient(135deg, var(--blau), var(--lila));
      color: white;
      border: none;
      border-radius: 18px;
      padding: 16px 40px;
      font-size: 1.4rem;
      font-family: 'Fredoka One', cursive;
      cursor: pointer;
      box-shadow: 0 4px 16px rgba(96,165,250,0.4);
      margin-top: 16px;
      transition: transform 0.15s;
    }
    .btn-restart:hover { transform: scale(1.06); }

    /* floating deco unicorns */
    .deco {
      position: fixed;
      font-size: 2.5rem;
      opacity: 0.18;
      pointer-events: none;
      animation: floatDeco 6s ease-in-out infinite alternate;
    }
    @keyframes floatDeco {
      from { transform: translateY(0) rotate(-5deg); }
      to   { transform: translateY(-20px) rotate(5deg); }
    }

    /* counter badge */
    .counter-badge {
      display: inline-block;
      background: linear-gradient(135deg, var(--gelb), var(--pink));
      color: #7c3aed;
      font-weight: 900;
      font-size: 1rem;
      border-radius: 20px;
      padding: 4px 14px;
      margin-bottom: 10px;
    }
  </style>
</head>
<body>

<!-- floating deco -->
<div class="deco" style="top:5%; left:2%; animation-delay:0s;">ğŸ¦„</div>
<div class="deco" style="top:15%; right:3%; animation-delay:1s;">â­</div>
<div class="deco" style="bottom:10%; left:5%; animation-delay:2s;">ğŸŒˆ</div>
<div class="deco" style="bottom:20%; right:4%; animation-delay:0.5s;">ğŸ’œ</div>
<div class="deco" style="top:40%; left:1%; animation-delay:1.5s;">âœ¨</div>
<div class="deco" style="top:60%; right:2%; animation-delay:2.5s;">ğŸŒ¸</div>

<!-- animation layer -->
<div id="anim-layer"></div>

<header>
  <h1>ğŸ¦„ Einhorn-Lesespiel ğŸ¦„</h1>
  <div class="stars-row">â­ â­ â­ â­ â­</div>
</header>

<div class="progress-bar-wrap">
  <div class="progress-bar" id="progress-bar" style="width:0%"></div>
</div>

<div class="card" id="main-card">
  <div style="text-align:center; margin-bottom:12px;">
    <span class="counter-badge" id="counter-badge">Satz 1 von 12</span>
  </div>

  <div class="sentence-box">
    <div class="sentence-text" id="sentence-display"></div>
  </div>

  <div class="type-area">
    <div class="type-label">âœï¸ Tippe das Wort ab und drÃ¼cke Enter:</div>
    <div class="type-input-wrap">
      <input
        class="type-input"
        id="type-input"
        type="text"
        autocomplete="off"
        autocorrect="off"
        autocapitalize="off"
        spellcheck="false"
        placeholder="hier tippen â€¦"
      />
    </div>
    <div class="hint" id="hint-text"></div>
    <button class="btn-next" id="btn-next" onclick="nextSentence()">Weiter â¡ï¸</button>
  </div>
</div>

<!-- finish screen (inside same card-like element) -->
<div class="card finish-screen" id="finish-screen">
  <span class="finish-unicorn-big">ğŸ¦„</span>
  <div class="finish-title">Super gemacht!</div>
  <div class="finish-text">
    Du hast alle SÃ¤tze gelesen!<br>
    Du bist eine echte Einhorn-Leserin! ğŸŒˆâœ¨
  </div>
  <div style="font-size:3rem; margin: 12px 0;">ğŸ‰ğŸ¦‹ğŸŒ¸ğŸ’œâ­ğŸŠğŸ¦„ğŸŒˆğŸ†ğŸ‡âœ¨ğŸ’«</div>
  <button class="btn-restart" onclick="restartGame()">Nochmal spielen ğŸ¦„</button>
</div>

<script>
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//  STORY DATA  (Bellas Geburtstag â€“ focus: letter B)
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const sentences = [
  {
    text: "Heute hat Bella Geburtstag.",
    typeWord: "Bella",
    hint: "Das Einhorn heiÃŸt...?"
  },
  {
    text: "Bella bekommt bunte Ballons.",
    typeWord: "Ballons",
    hint: "Die fliegen hoch! FÃ¤ngt mit B an!"
  },
  {
    text: "Die Ballons sind blau und pink.",
    typeWord: "blau",
    hint: "Eine Farbe â€“ fÃ¤ngt mit B an!"
  },
  {
    text: "Bea backt einen leckeren Kuchen.",
    typeWord: "backt",
    hint: "Was macht Bea in der KÃ¼che? Mit B!"
  },
  {
    text: "Der Kuchen hat bunte Bonbons drauf.",
    typeWord: "Bonbons",
    hint: "Die schmecken sÃ¼ÃŸ â€“ fangen mit B an!"
  },
  {
    text: "Bella blÃ¤st die Kerzen aus.",
    typeWord: "blÃ¤st",
    hint: "Was macht Bella? FÃ¤ngt mit bl... an!"
  },
  {
    text: "Alle spielen mit dem bunten Ball.",
    typeWord: "Ball",
    hint: "Was spielen sie? Mit B!"
  },
  {
    text: "Bella bekommt ein Buch als Geschenk.",
    typeWord: "Buch",
    hint: "Was ist das Geschenk? Mit B!"
  },
  {
    text: "Das Buch hat bunte Bilder drin.",
    typeWord: "Bilder",
    hint: "Was hat das Buch? Mit B!"
  },
  {
    text: "Bella tanzt mit ihrer Freundin Bea.",
    typeWord: "Bea",
    hint: "Wie heiÃŸt die Freundin? Mit B!"
  },
  {
    text: "Bea schenkt Bella eine schÃ¶ne Blume.",
    typeWord: "Blume",
    hint: "Was schenkt Bea? Mit B!"
  },
  {
    text: "Bella hatte den besten Geburtstag!",
    typeWord: "besten",
    hint: "Wie war der Geburtstag? Mit B!"
  }
];

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//  ANIMATIONS  (12 different ones, cycled randomly)
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const animations = [
  animRainbowWave,
  animConfetti,
  animStarBurst,
  animFloatUnicorns,
  animHearts,
  animSparkles,
  animBalloons,
  animBigEmoji,
  animFireworks,
  animBubbles,
  animRainbow,
  animMagic
];

let currentIndex = 0;
let lastAnimIndex = -1;
let answered = false;   // true once the current sentence was typed correctly

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//  INIT
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function init() {
  currentIndex = 0;
  answered = false;
  showSentence();
  document.getElementById('type-input').focus();
}

function showSentence() {
  const s = sentences[currentIndex];
  const raw = s.text;
  answered = false;

  // Step 1: mark the target word with a placeholder (case-insensitive)
  const escapedWord = s.typeWord.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
  const wordRegex = new RegExp('(' + escapedWord + ')', 'i');
  let highlighted = raw.replace(wordRegex, '[[TW]]$1[[/TW]]');

  // Step 2: highlight every B/b in the whole sentence
  highlighted = highlighted.replace(/([Bb])/g, '<span class="b-letter">$1</span>');

  // Step 3: replace placeholder with the target-word span
  highlighted = highlighted.replace(
    /\[\[TW\]\](.*?)\[\[\/TW\]\]/g,
    '<span class="target-word">$1</span>'
  );

  document.getElementById('sentence-display').innerHTML = highlighted;

  document.getElementById('type-input').value = '';
  document.getElementById('type-input').classList.remove('correct', 'wrong');
  document.getElementById('hint-text').textContent = s.hint;
  document.getElementById('btn-next').classList.remove('visible');

  // update progress
  const pct = Math.round((currentIndex / sentences.length) * 100);
  document.getElementById('progress-bar').style.width = pct + '%';
  document.getElementById('counter-badge').textContent =
    `Satz ${currentIndex + 1} von ${sentences.length}`;
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//  INPUT HANDLING
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
document.getElementById('type-input').addEventListener('keydown', function(e) {
  if (e.key === 'Enter') {
    if (answered) {
      // already correct â€“ go straight to next sentence
      nextSentence();
    } else {
      checkInput();
    }
  }
});

document.getElementById('type-input').addEventListener('input', function() {
  const inp = this.value;
  const target = sentences[currentIndex].typeWord;
  // live feedback if matches
  if (inp.toLowerCase() === target.toLowerCase()) {
    this.classList.add('correct');
    this.classList.remove('wrong');
  } else {
    this.classList.remove('correct', 'wrong');
  }
});

function checkInput() {
  const inp = document.getElementById('type-input').value.trim();
  const target = sentences[currentIndex].typeWord;

  if (inp.toLowerCase() === target.toLowerCase()) {
    answered = true;
    document.getElementById('type-input').classList.add('correct');
    document.getElementById('hint-text').textContent = 'ğŸ‰ Super! Klasse gemacht! DrÃ¼ck Enter fÃ¼r weiter!';
    document.getElementById('btn-next').classList.add('visible');
    celebrateSentence();
  } else {
    document.getElementById('type-input').classList.add('wrong');
    document.getElementById('type-input').classList.remove('correct');
    document.getElementById('hint-text').textContent = `Probiere es nochmal! Suche das Wort: â€${target}"`;
    setTimeout(() => {
      document.getElementById('type-input').classList.remove('wrong');
    }, 600);
  }
}

function nextSentence() {
  currentIndex++;
  if (currentIndex >= sentences.length) {
    showFinish();
  } else {
    showSentence();
    document.getElementById('type-input').focus();
  }
}

function showFinish() {
  document.getElementById('progress-bar').style.width = '100%';
  document.getElementById('main-card').style.display = 'none';
  document.getElementById('finish-screen').classList.add('show');
  setTimeout(() => bigFinaleAnimation(), 300);
}

function restartGame() {
  document.getElementById('finish-screen').classList.remove('show');
  document.getElementById('main-card').style.display = '';
  init();
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//  ANIMATION ENGINE
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function playRandomAnimation() {
  let idx;
  do { idx = Math.floor(Math.random() * animations.length); }
  while (idx === lastAnimIndex);
  lastAnimIndex = idx;
  animations[idx]();
}

// Play 3 animations in sequence â€“ more and longer party!
function celebrateSentence() {
  playRandomAnimation();
  setTimeout(() => playRandomAnimation(), 1400);
  setTimeout(() => playRandomAnimation(), 2900);
}

function clearLayer() {
  document.getElementById('anim-layer').innerHTML = '';
}

// 1. Rainbow Wave
function animRainbowWave() {
  clearLayer();
  const wave = document.createElement('div');
  wave.className = 'rainbow-wave';
  document.getElementById('anim-layer').appendChild(wave);
  setTimeout(clearLayer, 1800);
}

// 2. Confetti  (increased particle count and duration)
function animConfetti() {
  clearLayer();
  const layer = document.getElementById('anim-layer');
  const colors = ['#b06fd8','#f472b6','#60a5fa','#fde047','#a78bfa','#34d399'];
  for (let i = 0; i < 120; i++) {
    const p = document.createElement('div');
    p.className = 'confetti-piece';
    p.style.left = Math.random() * 100 + 'vw';
    p.style.top = '-20px';
    p.style.background = colors[Math.floor(Math.random() * colors.length)];
    p.style.width = (8 + Math.random() * 12) + 'px';
    p.style.height = (8 + Math.random() * 12) + 'px';
    p.style.borderRadius = Math.random() > 0.5 ? '50%' : '3px';
    p.style.animationDuration = (1.5 + Math.random() * 2.5) + 's';
    p.style.animationDelay = (Math.random() * 0.8) + 's';
    layer.appendChild(p);
  }
  setTimeout(clearLayer, 4500);
}

// 3. Star Burst from center
function animStarBurst() {
  clearLayer();
  const layer = document.getElementById('anim-layer');
  const emojis = ['â­','âœ¨','ğŸ’«','ğŸŒŸ'];
  for (let i = 0; i < 24; i++) {
    const s = document.createElement('div');
    s.className = 'star-burst';
    s.textContent = emojis[Math.floor(Math.random() * emojis.length)];
    const angle = (i / 24) * 360;
    const dist = 130 + Math.random() * 100;
    const dx = Math.cos(angle * Math.PI / 180) * dist + 'px';
    const dy = Math.sin(angle * Math.PI / 180) * dist + 'px';
    s.style.setProperty('--dx', dx);
    s.style.setProperty('--dy', dy);
    s.style.left = '50%';
    s.style.top = '50%';
    s.style.animationDelay = (Math.random() * 0.2) + 's';
    layer.appendChild(s);
  }
  setTimeout(clearLayer, 1500);
}

// 4. Floating Unicorns
function animFloatUnicorns() {
  clearLayer();
  const layer = document.getElementById('anim-layer');
  for (let i = 0; i < 14; i++) {
    const p = document.createElement('div');
    p.className = 'particle';
    p.textContent = 'ğŸ¦„';
    p.style.left = (5 + Math.random() * 90) + 'vw';
    p.style.top = (40 + Math.random() * 50) + 'vh';
    p.style.fontSize = (1.5 + Math.random() * 2.5) + 'rem';
    p.style.animationDuration = (1.1 + Math.random() * 1) + 's';
    p.style.animationDelay = (Math.random() * 0.5) + 's';
    layer.appendChild(p);
  }
  setTimeout(clearLayer, 2800);
}

// 5. Hearts
function animHearts() {
  clearLayer();
  const layer = document.getElementById('anim-layer');
  const hearts = ['ğŸ’œ','ğŸ’—','ğŸ’•','â¤ï¸','ğŸ©·','ğŸ’™'];
  for (let i = 0; i < 20; i++) {
    const p = document.createElement('div');
    p.className = 'particle';
    p.textContent = hearts[Math.floor(Math.random() * hearts.length)];
    p.style.left = (5 + Math.random() * 90) + 'vw';
    p.style.top = (20 + Math.random() * 70) + 'vh';
    p.style.fontSize = (1.5 + Math.random() * 2) + 'rem';
    p.style.animationDuration = (1.2 + Math.random() * 1) + 's';
    p.style.animationDelay = (Math.random() * 0.6) + 's';
    layer.appendChild(p);
  }
  setTimeout(clearLayer, 3000);
}

// 6. Sparkles
function animSparkles() {
  clearLayer();
  const layer = document.getElementById('anim-layer');
  for (let i = 0; i < 30; i++) {
    const p = document.createElement('div');
    p.className = 'particle';
    p.textContent = 'âœ¨';
    p.style.left = Math.random() * 100 + 'vw';
    p.style.top = (10 + Math.random() * 80) + 'vh';
    p.style.fontSize = (1 + Math.random() * 2.2) + 'rem';
    p.style.animationDuration = (1 + Math.random() * 1) + 's';
    p.style.animationDelay = (Math.random() * 0.5) + 's';
    layer.appendChild(p);
  }
  setTimeout(clearLayer, 2500);
}

// 7. Balloons
function animBalloons() {
  clearLayer();
  const layer = document.getElementById('anim-layer');
  const balloons = ['ğŸˆ','ğŸ€','ğŸŠ','ğŸ‰'];
  for (let i = 0; i < 16; i++) {
    const p = document.createElement('div');
    p.className = 'particle';
    p.textContent = balloons[Math.floor(Math.random() * balloons.length)];
    p.style.left = (5 + Math.random() * 90) + 'vw';
    p.style.top = (50 + Math.random() * 40) + 'vh';
    p.style.fontSize = (1.8 + Math.random() * 2) + 'rem';
    p.style.animationDuration = (1.4 + Math.random() * 1.2) + 's';
    p.style.animationDelay = (Math.random() * 0.6) + 's';
    layer.appendChild(p);
  }
  setTimeout(clearLayer, 3200);
}

// 8. Big Emoji Overlay
function animBigEmoji() {
  clearLayer();
  const emojis = ['ğŸ¦„','ğŸŒˆ','â­','ğŸ’œ','ğŸŒŸ','ğŸ‰'];
  const emoji = emojis[Math.floor(Math.random() * emojis.length)];
  const overlay = document.createElement('div');
  overlay.className = 'overlay-anim';
  overlay.style.background = 'rgba(255,255,255,0.3)';
  const e = document.createElement('div');
  e.className = 'overlay-emoji';
  e.textContent = emoji;
  overlay.appendChild(e);
  document.getElementById('anim-layer').appendChild(overlay);
  setTimeout(clearLayer, 2400);
}

// 9. Fireworks
function animFireworks() {
  clearLayer();
  const layer = document.getElementById('anim-layer');
  const emojis = ['ğŸ†','ğŸ‡','âœ¨','ğŸ’¥','ğŸŒŸ'];
  for (let i = 0; i < 22; i++) {
    const p = document.createElement('div');
    p.className = 'particle';
    p.textContent = emojis[Math.floor(Math.random() * emojis.length)];
    p.style.left = (5 + Math.random() * 90) + 'vw';
    p.style.top = (20 + Math.random() * 70) + 'vh';
    p.style.fontSize = (1.5 + Math.random() * 2.5) + 'rem';
    p.style.animationDuration = (1.1 + Math.random() * 1) + 's';
    p.style.animationDelay = (Math.random() * 0.7) + 's';
    layer.appendChild(p);
  }
  setTimeout(clearLayer, 2800);
}

// 10. Bubbles
function animBubbles() {
  clearLayer();
  const layer = document.getElementById('anim-layer');
  const colors = ['#e9d5ff','#fce7f3','#bfdbfe','#fef9c3','#a5f3fc'];
  for (let i = 0; i < 28; i++) {
    const b = document.createElement('div');
    const size = 30 + Math.random() * 60;
    b.style.cssText = `
      position: absolute;
      width: ${size}px;
      height: ${size}px;
      border-radius: 50%;
      background: ${colors[Math.floor(Math.random() * colors.length)]};
      border: 3px solid rgba(255,255,255,0.8);
      left: ${Math.random() * 100}vw;
      top: ${30 + Math.random() * 60}vh;
      opacity: 0.8;
      animation: flyUp ${1 + Math.random() * 1.2}s ease-out ${Math.random() * 0.6}s forwards;
    `;
    layer.appendChild(b);
  }
  setTimeout(clearLayer, 3000);
}

// 11. Rainbow text
function animRainbow() {
  clearLayer();
  const layer = document.getElementById('anim-layer');
  const overlay = document.createElement('div');
  overlay.style.cssText = `
    position: fixed; inset: 0;
    display: flex; align-items: center; justify-content: center;
    pointer-events: none;
    animation: fadeOverlay 2s ease-in-out forwards;
    z-index: 1001;
  `;
  const txt = document.createElement('div');
  txt.style.cssText = `
    font-family: 'Fredoka One', cursive;
    font-size: clamp(3rem, 10vw, 6rem);
    background: linear-gradient(90deg, #b06fd8, #f472b6, #60a5fa, #fde047, #b06fd8);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    background-size: 300%;
    animation: regenbogen 0.8s linear infinite;
    text-shadow: none;
    filter: drop-shadow(0 4px 12px rgba(244,114,182,0.5));
  `;
  txt.textContent = 'ğŸŒˆ Super! ğŸŒˆ';
  overlay.appendChild(txt);
  layer.appendChild(overlay);
  setTimeout(clearLayer, 2200);
}

// 12. Magic sparkle circle
function animMagic() {
  clearLayer();
  const layer = document.getElementById('anim-layer');
  const cx = 50; const cy = 50;
  const moons = ['ğŸŒ™','â­','ğŸ’«','âœ¨','ğŸŒŸ','ğŸ’œ'];
  for (let i = 0; i < 18; i++) {
    const angle = (i / 18) * 360;
    const r = 30 + Math.random() * 18;
    const x = cx + r * Math.cos(angle * Math.PI / 180);
    const y = cy + r * Math.sin(angle * Math.PI / 180);
    const p = document.createElement('div');
    p.className = 'particle';
    p.textContent = moons[Math.floor(Math.random() * moons.length)];
    p.style.left = x + 'vw';
    p.style.top = y + 'vh';
    p.style.fontSize = (1.2 + Math.random() * 1.5) + 'rem';
    p.style.animationDuration = (1 + Math.random() * 0.8) + 's';
    p.style.animationDelay = (Math.random() * 0.3) + 's';
    layer.appendChild(p);
  }
  setTimeout(clearLayer, 2400);
}

// GAAAANZ viel Party am Ende mit groÃŸem Einhorn!
function bigFinaleAnimation() {
  animConfetti();
  setTimeout(animRainbowWave,  600);
  setTimeout(animStarBurst,   1200);
  setTimeout(animFloatUnicorns, 1800);
  setTimeout(animHearts,       2600);
  setTimeout(animFireworks,    3400);
  setTimeout(animSparkles,     4200);
  setTimeout(animBalloons,     5000);
  setTimeout(animMagic,        5800);
  setTimeout(animRainbow,      6600);
  setTimeout(animConfetti,     7400);  // zweites Mal Konfetti!
  setTimeout(animBigEmoji,     8200);
  setTimeout(animFloatUnicorns,9000);  // nochmal EinhÃ¶rner!
  setTimeout(animStarBurst,    9800);
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//  START
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
init();
</script>
</body>
</html>
