@import url('https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@400;700;900&display=swap');

:root {
  --lila:  #b06fd8;
  --pink:  #f472b6;
  --blau:  #60a5fa;
  --gelb:  #fde047;
  --hell:  #fdf4ff;
}

* { box-sizing: border-box; margin: 0; padding: 0; }

body {
  min-height: 100vh;
  background: linear-gradient(135deg, #e9d5ff 0%, #fce7f3 40%, #bfdbfe 70%, #fef9c3 100%);
  font-family: 'Nunito', sans-serif;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  padding: 20px;
  overflow-x: hidden;
}

/* ─── HEADER ─── */
header {
  text-align: center;
  margin-bottom: 24px;
}
h1 {
  font-family: 'Fredoka One', cursive;
  font-size: clamp(2rem, 6vw, 3.5rem);
  background: linear-gradient(90deg, var(--lila), var(--pink), var(--blau), var(--gelb));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  filter: drop-shadow(0 2px 4px rgba(0,0,0,0.15));
  animation: regenbogen 3s linear infinite;
  background-size: 300%;
}
@keyframes regenbogen {
  0%   { background-position: 0% 50%; }
  50%  { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}
.stars-row { font-size: 1.6rem; letter-spacing: 6px; margin-top: 4px; }

/* ─── PROGRESS ─── */
.progress-bar-wrap {
  width: 100%;
  max-width: 680px;
  background: rgba(255,255,255,0.5);
  border-radius: 20px;
  height: 18px;
  margin-bottom: 20px;
  overflow: hidden;
  border: 2px solid white;
}
.progress-bar {
  height: 100%;
  background: linear-gradient(90deg, var(--lila), var(--pink));
  border-radius: 20px;
  transition: width 0.6s ease;
}

/* ─── CARD ─── */
.card {
  background: rgba(255, 255, 255, 0.85);
  border-radius: 28px;
  padding: 32px 36px;
  max-width: 680px;
  width: 100%;
  box-shadow: 0 8px 32px rgba(176,111,216,0.25);
  border: 3px solid white;
  position: relative;
}

/* ─── SENTENCE DISPLAY ─── */
.sentence-box {
  background: linear-gradient(135deg, #f3e8ff, #fce7f3);
  border-radius: 20px;
  padding: 24px;
  min-height: 120px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 3px dashed var(--lila);
  margin-bottom: 24px;
}
.sentence-text {
  font-size: clamp(1.4rem, 4vw, 2.2rem);
  font-weight: 900;
  color: #5b21b6;
  text-align: center;
  line-height: 1.5;
  letter-spacing: 1px;
}
/* highlight the letter B */
.sentence-text .b-letter {
  color: var(--pink);
  font-size: 1.2em;
  text-shadow: 0 2px 8px rgba(244,114,182,0.5);
}
/* highlight the WHOLE target word */
.sentence-text .target-word {
  background: linear-gradient(135deg, #fde047cc, #f472b6aa);
  border-radius: 10px;
  padding: 2px 8px;
  display: inline-block;
  box-shadow: 0 2px 10px rgba(244,114,182,0.45);
  animation: wordPulse 1s ease-in-out infinite alternate;
  border: 2px solid rgba(244,114,182,0.5);
}
@keyframes wordPulse {
  from { transform: scale(1);    box-shadow: 0 2px 10px rgba(244,114,182,0.4); }
  to   { transform: scale(1.06); box-shadow: 0 4px 18px rgba(244,114,182,0.7); }
}

/* ─── TYPE INPUT ─── */
.type-area {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 16px;
}
.type-label {
  font-size: 1.1rem;
  color: #7c3aed;
  font-weight: 700;
  text-align: center;
}
.type-input-wrap {
  position: relative;
  width: 100%;
}
.type-input {
  width: 100%;
  border: 4px solid var(--lila);
  border-radius: 18px;
  padding: 16px 22px;
  font-size: clamp(1.2rem, 3.5vw, 1.8rem);
  font-family: 'Nunito', sans-serif;
  font-weight: 700;
  color: #4c1d95;
  background: #fdf4ff;
  outline: none;
  transition: border-color 0.2s, box-shadow 0.2s;
  text-align: center;
}
.type-input:focus {
  border-color: var(--pink);
  box-shadow: 0 0 0 4px rgba(244,114,182,0.25);
}
.type-input.correct {
  border-color: #22c55e;
  background: #f0fdf4;
}
.type-input.wrong {
  border-color: #ef4444;
  background: #fef2f2;
  animation: shake 0.4s;
}
@keyframes shake {
  0%,100% { transform: translateX(0); }
  20%      { transform: translateX(-8px); }
  40%      { transform: translateX(8px); }
  60%      { transform: translateX(-6px); }
  80%      { transform: translateX(6px); }
}

/* ─── BTN ─── */
.btn-next {
  background: linear-gradient(135deg, var(--lila), var(--pink));
  color: white;
  border: none;
  border-radius: 18px;
  padding: 14px 36px;
  font-size: 1.3rem;
  font-family: 'Fredoka One', cursive;
  cursor: pointer;
  box-shadow: 0 4px 16px rgba(176,111,216,0.4);
  transition: transform 0.15s, box-shadow 0.15s;
  display: none;
}
.btn-next:hover {
  transform: scale(1.05);
  box-shadow: 0 6px 20px rgba(176,111,216,0.55);
}
.btn-next.visible { display: block; }

/* ─── HINT ─── */
.hint {
  font-size: 1rem;
  color: #9333ea;
  text-align: center;
  min-height: 28px;
}

/* ─── PARTICLE / ANIMATION LAYER ─── */
#anim-layer {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 999;
  overflow: hidden;
}
.particle {
  position: absolute;
  font-size: 2rem;
  animation: flyUp 1.6s ease-out forwards;
  user-select: none;
}
@keyframes flyUp {
  0%   { transform: translateY(0) scale(1) rotate(0deg); opacity: 1; }
  100% { transform: translateY(-220px) scale(1.6) rotate(30deg); opacity: 0; }
}

/* special animation overlays */
.overlay-anim {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  pointer-events: none;
  animation: fadeOverlay 2.2s ease-in-out forwards;
}
@keyframes fadeOverlay {
  0%   { opacity: 0; }
  20%  { opacity: 1; }
  80%  { opacity: 1; }
  100% { opacity: 0; }
}
.overlay-emoji {
  font-size: clamp(5rem, 20vw, 12rem);
  animation: bounceIn 0.5s cubic-bezier(0.34,1.56,0.64,1) forwards,
             spinOut 2.2s ease-in-out forwards;
  filter: drop-shadow(0 0 30px rgba(244,114,182,0.8));
}
@keyframes bounceIn {
  from { transform: scale(0) rotate(-20deg); }
  to   { transform: scale(1) rotate(0deg); }
}
@keyframes spinOut {
  80%  { transform: scale(1) rotate(0deg); opacity: 1; }
  100% { transform: scale(0) rotate(20deg); opacity: 0; }
}

/* confetti */
.confetti-piece {
  position: absolute;
  width: 12px;
  height: 12px;
  border-radius: 3px;
  animation: confettiFall linear forwards;
}
@keyframes confettiFall {
  0%   { transform: translateY(-20px) rotate(0deg); opacity: 1; }
  100% { transform: translateY(110vh) rotate(720deg); opacity: 0; }
}

/* star burst */
.star-burst {
  position: absolute;
  font-size: 2.5rem;
  animation: starBurst 1s cubic-bezier(0.34,1.56,0.64,1) forwards;
}
@keyframes starBurst {
  0%   { transform: scale(0) translate(0,0); opacity: 1; }
  100% { transform: scale(1.4) translate(var(--dx), var(--dy)); opacity: 0; }
}

/* rainbow wave */
.rainbow-wave {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%,-50%);
  width: 0;
  height: 0;
  border-radius: 50%;
  animation: wave 1.6s ease-out forwards;
  z-index: 998;
  pointer-events: none;
}
@keyframes wave {
  0%   { width: 0; height: 0; opacity: 0.8; background: radial-gradient(circle, var(--pink), var(--lila), var(--blau), var(--gelb)); }
  100% { width: 200vmax; height: 200vmax; opacity: 0; background: radial-gradient(circle, var(--pink), var(--lila), var(--blau), var(--gelb)); }
}

/* ─── FINISH SCREEN ─── */
.finish-screen {
  display: none;
  text-align: center;
}
.finish-screen.show { display: block; }
.finish-title {
  font-family: 'Fredoka One', cursive;
  font-size: clamp(2rem, 7vw, 3.8rem);
  background: linear-gradient(90deg, var(--lila), var(--pink), var(--blau), var(--gelb));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  background-size: 300%;
  animation: regenbogen 2s linear infinite;
  margin-bottom: 16px;
}
/* giant unicorn at the end */
.finish-unicorn-big {
  font-size: clamp(7rem, 28vw, 18rem);
  display: block;
  animation: unicornEntrance 0.8s cubic-bezier(0.34,1.56,0.64,1) forwards,
             unicornBounce 1.4s 0.8s ease-in-out infinite alternate;
  filter: drop-shadow(0 0 40px rgba(176,111,216,0.7));
  line-height: 1;
  margin-bottom: 10px;
}
@keyframes unicornEntrance {
  from { transform: scale(0) rotate(-30deg); opacity: 0; }
  to   { transform: scale(1) rotate(0deg);   opacity: 1; }
}
@keyframes unicornBounce {
  from { transform: translateY(0)    scale(1);    }
  to   { transform: translateY(-20px) scale(1.05); }
}
.finish-text {
  font-size: 1.3rem;
  color: #7c3aed;
  font-weight: 700;
  margin: 16px 0;
}
.btn-restart {
  background: linear-gradient(135deg, var(--blau), var(--lila));
  color: white;
  border: none;
  border-radius: 18px;
  padding: 16px 40px;
  font-size: 1.4rem;
  font-family: 'Fredoka One', cursive;
  cursor: pointer;
  box-shadow: 0 4px 16px rgba(96,165,250,0.4);
  margin-top: 16px;
  transition: transform 0.15s;
}
.btn-restart:hover { transform: scale(1.06); }

/* floating deco unicorns */
.deco {
  position: fixed;
  font-size: 2.5rem;
  opacity: 0.18;
  pointer-events: none;
  animation: floatDeco 6s ease-in-out infinite alternate;
}
@keyframes floatDeco {
  from { transform: translateY(0) rotate(-5deg); }
  to   { transform: translateY(-20px) rotate(5deg); }
}

/* counter badge */
.counter-badge {
  display: inline-block;
  background: linear-gradient(135deg, var(--gelb), var(--pink));
  color: #7c3aed;
  font-weight: 900;
  font-size: 1rem;
  border-radius: 20px;
  padding: 4px 14px;
  margin-bottom: 10px;
}
